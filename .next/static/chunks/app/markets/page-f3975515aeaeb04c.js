(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{3624:function(e,s,t){Promise.resolve().then(t.bind(t,5539))},5539:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var a=t(7437),r=t(2265);let l=[{key:"ALL",label:"All Sports"},{key:"NBA",label:"NBA"},{key:"NFL",label:"NFL"},{key:"MLB",label:"MLB"},{key:"NHL",label:"NHL"}],d=[{key:"ALL",label:"All Markets"},{key:"MONEYLINE",label:"Moneyline"},{key:"SPREAD",label:"Spread"},{key:"TOTAL",label:"Total"}],i=[{key:"ALL",label:"All Markets"},{key:"MONEYLINE",label:"Moneyline"},{key:"SPREAD",label:"Spread"},{key:"TOTAL",label:"Total"},{key:"PLAYER_PASS_TDS",label:"Pass TDs"},{key:"PLAYER_PASS_YDS",label:"Pass Yards"},{key:"PLAYER_RUSH_YDS",label:"Rush Yards"},{key:"PLAYER_REC_YDS",label:"Rec Yards"}];function n(){let[e,s]=(0,r.useState)([]),[t,n]=(0,r.useState)(!0),[o,c]=(0,r.useState)("ALL"),[m,x]=(0,r.useState)("ALL"),p=(0,r.useCallback)(async()=>{n(!0);try{let e=new URLSearchParams;"ALL"!==o&&e.append("sport",o),"ALL"!==m&&e.append("marketType",m);let t=await fetch("/api/markets?".concat(e)),a=await t.json();t.ok?s(a.markets||[]):(console.error("Failed to fetch markets:",a.error),s([]))}catch(e){console.error("Error fetching markets:",e),s([])}finally{n(!1)}},[o,m]);(0,r.useEffect)(()=>{p()},[p]);let b=(e=>{let s=new Map;return e.forEach(e=>{let t="".concat(e.sport,"-").concat(e.participants.join("-"),"-").concat(e.startTime);s.has(t)||s.set(t,{id:t,sport:e.sport,league:e.league,participants:e.participants,startTime:e.startTime,markets:[]}),s.get(t).markets.push(e)}),Array.from(s.values())})(e.filter(e=>{let s="ALL"===o||e.sport===o,t="ALL"===m||e.marketType===m;return s&&t})),y=e=>{if(isNaN(e)||!isFinite(e))return"N/A";let s=Math.round(100*e)/100;return s>0?"+".concat(s):s.toString()},h=e=>isNaN(e)||!isFinite(e)?"N/A":e.toString(),u=e=>{let s=new Date(e);return s.toLocaleDateString()+" "+s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},g=e=>{c(e),x("ALL")},N=e=>({MONEYLINE:"Moneyline",SPREAD:"Spread",TOTAL:"Total",PLAYER_PASS_TDS:"Pass TDs",PLAYER_PASS_YDS:"Pass Yards",PLAYER_RUSH_YDS:"Rush Yards",PLAYER_REC_YDS:"Rec Yards",PLAYER_REC_RECEPTIONS:"Receptions",PLAYER_REC_TDS:"Rec TDs"})[e]||e.replace(/_/g," ").toLowerCase();return(0,a.jsx)("main",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Sports Markets"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Browse and place simulated bets on upcoming events."})]}),(0,a.jsx)("button",{onClick:()=>p(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm font-medium",children:"Refresh Data"})]})}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-6",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:l.map(e=>(0,a.jsx)("button",{onClick:()=>g(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(o===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.key))})})}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-6",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:("NFL"===o?i:d).map(e=>(0,a.jsx)("button",{onClick:()=>x(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(m===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.key))})})}),(0,a.jsx)("div",{className:"p-6",children:t?(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Loading markets..."}):0===b.length?(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No markets found for the selected criteria."}):(0,a.jsx)("div",{className:"space-y-8",children:b.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.participants[0]," vs ",e.participants[1]]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.league," â€¢ ",u(e.startTime)]})]}),(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:e.sport})]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.markets.map(e=>{var s,t,r,l;return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:N(e.marketType)}),e.odds&&e.odds.over&&e.odds.under?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-4",children:h(e.odds.over.total)}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)("button",{className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 text-sm font-medium",children:"Higher"}),(0,a.jsx)("button",{className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 text-sm font-medium",children:"Lower"})]})]}):e.odds&&(void 0!==e.odds.home||void 0!==e.odds.away)?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.participants[0]}),"SPREAD"===e.marketType&&(null===(s=e.odds)||void 0===s?void 0:s.home)&&"object"==typeof e.odds.home?(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-700",children:[e.odds.home.spread>0?"+":"",e.odds.home.spread]}),(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900",children:y(e.odds.home.odds)})]}):(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900",children:y((null===(t=e.odds)||void 0===t?void 0:t.home)||0)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.participants[1]}),"SPREAD"===e.marketType&&(null===(r=e.odds)||void 0===r?void 0:r.away)&&"object"==typeof e.odds.away?(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-700",children:[e.odds.away.spread>0?"+":"",e.odds.away.spread]}),(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900",children:y(e.odds.away.odds)})]}):(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900",children:y((null===(l=e.odds)||void 0===l?void 0:l.away)||0)})]})]}):(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No odds available"})})]},e.id)})})})]},e.id))})})]})})}},622:function(e,s,t){"use strict";var a=t(2265),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,t){var a,l={},o=null,c=null;for(a in void 0!==t&&(o=""+t),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(c=s.ref),s)d.call(s,a)&&!n.hasOwnProperty(a)&&(l[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===l[a]&&(l[a]=s[a]);return{$$typeof:r,type:e,key:o,ref:c,props:l,_owner:i.current}}s.Fragment=l,s.jsx=o,s.jsxs=o},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=3624)}),_N_E=e.O()}]);